# Web Application - Итоговый проект по HTML/CSS

## Описание проекта

Веб-приложение для электронной коммерции с функционалом каталога товаров, системы отзывов, карты магазинов и личного кабинета пользователя. Проект разработан в соответствии с техническим заданием и включает полный стек технологий: Frontend (HTML5, CSS3, JavaScript), Backend (Node.js, Express.js), база данных (SQLite) и система контроля версий Git.

## Структура проекта

```
web-application/
├── backend/              # Backend API сервер
│   ├── server.js         # Основной серверный файл
│   ├── database.js       # Работа с базой данных
│   ├── package.json      # Зависимости backend
│   ├── README.md         # Документация backend
│   └── database.db       # Файл базы данных SQLite (создается автоматически)
├── frontend/             # Фронтенд приложение
│   ├── index.html        # Главная страница
│   ├── dashboard.html    # Личный кабинет пользователя
│   ├── css/              # Стили
│   │   ├── style.css     # Основные стили
│   │   ├── dashboard.css # Стили дэшборда
│   │   └── chart.css     # Стили для графиков
│   └── js/               # JavaScript файлы
│       ├── main.js       # Основной скрипт главной страницы
│       └── dashboard.js  # Скрипт дэшборда
├── docs/                 # Документация
│   └── database_schema.md # Схема базы данных
├── img/                  # Изображения
├── .gitignore           # Git ignore
└── README.md            # Общая документация
```

## Технологии

### Frontend
- **HTML5** - семантическая разметка
- **CSS3** - стилизация с использованием:
  - Flexbox и Grid Layout для построения сеток
  - Mobile First подход к адаптивности
  - CSS анимации (@keyframes, transitions)
- **JavaScript (ES6+)** - интерактивность:
  - Нативные JavaScript анимации
  - Карусель товаров
  - Плавная прокрутка
  - Intersection Observer API
- **Leaflet** - картографический сервис для отображения магазинов
- **Chart.js** - библиотека для создания графиков и диаграмм

### Backend
- **Node.js** - серверная платформа
- **Express.js** - веб-фреймворк
- **SQLite** - база данных
- **bcrypt** - хеширование паролей
- **jsonwebtoken (JWT)** - система авторизации

## Установка и запуск

### Требования
- Node.js (версия 14 или выше)
- npm (Node Package Manager)

### Backend

1. Перейдите в директорию backend:
```bash
cd backend
```

2. Установите зависимости:
```bash
npm install
```

3. Запустите сервер:
```bash
npm start
```

Сервер будет доступен по адресу: `http://localhost:3000`

### Frontend

Фронтенд можно открыть напрямую в браузере через файл `frontend/index.html` или разместить на веб-сервере.

**Важно:** Для работы с API убедитесь, что backend сервер запущен на порту 3000.

## Функциональность

### Frontend

#### Главная страница (index.html)
- ✅ Каталог товаров с каруселью
- ✅ Интеграция карты Leaflet с маркерами магазинов
- ✅ Получение геолокации пользователя
- ✅ Модальные окна для авторизации и регистрации
- ✅ Отдельные страницы: login.html, register.html, contacts.html
- ✅ Адаптивный дизайн (Mobile First, 320px - 1920px+)
- ✅ CSS анимации (fadeIn, slideIn, pulse)
- ✅ JavaScript анимации (карусель, плавная прокрутка)
- ✅ Обработка ошибок и уведомления
- ✅ Страницы: login.html, register.html, contacts.html, cart.html, favorites.html
- ✅ Переключение светлая/тёмная тема с сохранением выбора (localStorage)

#### Личный кабинет (dashboard.html)
- ✅ Статистика в виде графиков Chart.js:
  - График распределения оценок (bar chart)
  - График отзывов по месяцам (line chart)
- ✅ Таблица отзывов пользователя
- ✅ Фильтрация отзывов по оценке
- ✅ Поиск по отзывам
- ✅ Сортировка данных (по дате, оценке, названию товара)
- ✅ Редактирование отзывов (модальное окно)
- ✅ Удаление отзывов
- ✅ Адаптивный дизайн
- ✅ Профиль: имя/email из JWT, принудительная авторизация

#### Дополнительно
- ✅ Страница контактов с картой и формой обратной связи
- ✅ Каталог: быстрый просмотр товара в модалке (фото/описание/кнопки), кнопки выровнены сеткой
- ✅ Клиентская корзина и избранное (localStorage) с бейджами в шапке, добавлением из каталога/карточки товара и отдельными страницами cart/favorites; добавление доступно только авторизованным
- ✅ Корзина: мини-оформление заказа (форма, валидация, расчёт итога)
- ✅ История просмотров и рекомендации (локально: до 10 последних, блок «Рекомендуем» в карточке товара)
- ✅ Навигация реагирует на авторизацию: «Вход / Регистрация» скрывается, показываются «Личный кабинет» и «Выйти»
- ✅ Карта магазинов: переключение слоёв, кластеризация маркеров, кнопка «Ближайший магазин»

### Backend

#### Авторизация
- ✅ `POST /api/register` - Регистрация пользователя
  - Хеширование паролей с помощью bcrypt
  - Валидация данных
- ✅ `POST /api/login` - Вход в систему
  - Проверка пароля
  - Выдача JWT токена

#### CRUD для отзывов
- ✅ `GET /api/reviews/:id` - Получить отзыв по ID
- ✅ `GET /api/users/:id/reviews` - Получить все отзывы пользователя
- ✅ `POST /api/reviews` - Создать отзыв (требуется авторизация)
- ✅ `PUT /api/reviews/:id` - Обновить отзыв (только автор)
- ✅ `DELETE /api/reviews/:id` - Удалить отзыв (только автор)

#### Товары
- ✅ `GET /api/products` - Получить все товары
- ✅ `GET /api/products/:id` - Получить товар по ID
- ✅ `POST /api/products` - Создать товар

#### Магазины
- ✅ `GET /api/shops` - Получить все магазины
- ✅ `POST /api/shops` - Создать магазин

## База данных

Схема базы данных описана в файле [docs/database_schema.md](docs/database_schema.md)

### Таблицы:
- **users** - Пользователи (id, name, email, password, created_at)
- **products** - Товары (id, name, price, description, image_url, category, created_at)
- **reviews** - Отзывы (id, user_id, product_id, review, stars, created_at)
- **shops** - Магазины (id, address, phone, latitude, longitude, created_at)

## Безопасность

- ✅ Пароли хранятся в хешированном виде (bcrypt, 10 salt rounds)
- ✅ JWT токены для авторизации
- ✅ Проверка прав доступа (только автор может редактировать/удалять свои отзывы)
- ✅ Валидация входных данных

## Адаптивность

Проект использует **Mobile First** подход:
- **320px+** (мобильные телефоны) - 1 колонка, упрощенная навигация
- **768px+** (планшеты) - 2 колонки, улучшенная навигация
- **1024px+** (десктоп) - 3 колонки, полный функционал
- **1920px+** (большие экраны) - увеличенная максимальная ширина контейнера

## Анимации

### CSS анимации
- `@keyframes fadeIn` - плавное появление элементов
- `@keyframes slideInFromLeft/Right/Top` - появление с разных сторон
- `@keyframes pulse` - пульсация кнопок
- `@keyframes loading` - анимация загрузки (skeleton)
- `transition` - плавные переходы при наведении

### JavaScript анимации
- Карусель товаров с плавной прокруткой
- Плавная прокрутка к якорям
- Анимация появления элементов при скролле (Intersection Observer)
- Анимация модальных окон
- Анимация уведомлений

## Система контроля версий

Проект использует Git для контроля версий. Репозиторий размещен на GitVerse (от СберТеха).

### История коммитов
Проект имеет осмысленную историю коммитов с описанием изменений.

### .gitignore
Файл настроен для исключения:
- `node_modules/`
- `*.db`, `*.sqlite` (базы данных)
- `.env` файлы
- Логи и временные файлы
- Файлы IDE

## Разработка

### Структура кода
- Модульная организация
- Комментирование кода
- Обработка ошибок
- Валидация данных

### Качество кода
- Читаемый и структурированный код
- Следование best practices
- Семантическая HTML разметка
- Валидный CSS

## Автор

Проект разработан в рамках итогового проекта по дисциплине HTML/CSS.

## Лицензия

ISC
